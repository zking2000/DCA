✅ 正确答案是：B. No

⸻

💡 一、题目回顾

问题：
在 Docker Trusted Registry (DTR) 中，
用户是否可以通过将镜像打上标签 'nginx:immutable' 来防止它被其他拥有 push 权限的用户覆盖？

⸻

⚠️ 二、错误原因

给镜像打上一个叫 "immutable" 的标签（例如 nginx:immutable）
并不会让该标签真正不可覆盖。

Docker Registry（包括 DTR）对标签本身没有“关键字识别”机制。
也就是说，nginx:immutable 只是一个普通的标签名。

⚠️ 它不会自动启用“标签不可变（Immutable Tag）”保护机制。

任何拥有 push 权限的用户仍然可以：

docker push nginx:immutable

从而覆盖原有镜像内容。

⸻

🧱 三、正确的做法（真正防止覆盖）

在 DTR 中，防止镜像被覆盖的正确方法是：

✅ 启用 Immutable Tags（不可变标签） 功能

1️⃣ 登录 DTR Web 控制台
2️⃣ 打开目标 repository（如 myorg/nginx）
3️⃣ 进入：

Settings → Tag Immutability

4️⃣ 勾选：

✅ Make tags immutable

此时：
	•	DTR 会禁止任何用户重新 push 同名标签；
	•	如果尝试覆盖，将返回错误：

denied: Tag 'latest' is immutable and cannot be overwritten



⸻

🧩 四、补充说明

方法	是否能防止覆盖	说明
给镜像打标签 'nginx:immutable'	❌ 否	只是普通标签，仍可被覆盖
移除其他用户的 push 权限	✅ 是	可行但不灵活
启用 Immutable Tags	✅✅ 推荐	DTR 官方机制，最优做法
启用 Docker Content Trust	⚠️ 部分保护	确保签名一致性，但不阻止标签覆盖


⸻

✅ 五、结论

B. No

将镜像打上 'nginx:immutable' 标签不会防止它被覆盖，
只有在 DTR 中启用 “Immutable Tags” 功能 才能真正防止镜像被重写。