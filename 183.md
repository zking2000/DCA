✅ 正确答案是：B. No

⸻

💡 一、题目回顾

题目：
“Docker Content Trust（DCT）的目的是不是用于验证和加密 Docker registry 的 TLS？”

答案选项：
A. Yes
B. No

⸻

⚠️ 二、错误原因

Docker Content Trust (DCT) 并不是用来处理 TLS 加密 的。
TLS 是用于 传输层加密（Transport Layer Security），由 Docker Daemon 与 Registry 的 HTTPS 通信完成。

而 DCT 的作用完全不同 —— 它是用于 镜像签名与验证（image signing and verification） 的安全机制。

⸻

✅ 三、Docker Content Trust 的真正目的

🔒 DCT 通过签名机制保证镜像的来源可信和内容未被篡改。

当启用 DCT 时（例如设置环境变量）：

export DOCKER_CONTENT_TRUST=1

Docker 客户端在执行以下操作时会验证镜像签名：

docker pull myorg/myimage:1.0

	•	仅当镜像有有效签名（使用 Notary / TUF）时才允许拉取；
	•	可以确保镜像内容和发布者身份未被伪造。

⸻

🧱 四、TLS 与 DCT 的区别

功能	TLS（Transport Layer Security）	Docker Content Trust (DCT)
加密层级	网络传输层	镜像内容层
目的	加密客户端与 Registry 的通信	验证镜像签名，防止篡改
实现方式	HTTPS（X.509证书）	Notary / TUF 签名系统
是否自动启用	✅ 默认启用（HTTPS）	❌ 需手动启用 (DOCKER_CONTENT_TRUST=1)


⸻

✅ 五、示例：DCT 的使用

1️⃣ 启用 DCT

export DOCKER_CONTENT_TRUST=1

2️⃣ 推送镜像时自动签名

docker push myorg/myimage:1.0

3️⃣ 验证签名

docker trust inspect myorg/myimage:1.0

如果镜像未签名，则会拒绝推送或拉取。

⸻

✅ 六、结论

B. No

Docker Content Trust 的目的是 验证镜像签名的完整性与来源可信度，
并不负责加密 Docker registry 的 TLS 连接。
TLS 加密是由 Docker Engine 与 Registry 的 HTTPS 通道完成的。