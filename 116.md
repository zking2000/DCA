✅ 正确答案是：A. Yes

⸻

💡 一、题目回顾

问题：
你的组织使用集中式日志系统（例如 Splunk）。

方案：
在 daemon.json 文件中设置 log-driver 和 log-opts 为对应日志方案（Splunk）的值。

这能否配置 Docker 容器把日志导出到该日志系统？

⸻

✅ 二、正确答案：Yes

确实可以通过在 Docker 守护进程配置文件 /etc/docker/daemon.json 中指定：
	•	log-driver → 日志驱动程序类型（例如 splunk）
	•	log-opts → 驱动的相关配置项（例如 token、endpoint 等）

这样就能将所有容器的日志自动发送到集中式日志系统。

⸻

🧩 三、示例配置（Splunk 日志驱动）

在宿主机上编辑文件：
/etc/docker/daemon.json

{
  "log-driver": "splunk",
  "log-opts": {
    "splunk-url": "https://splunk.example.com:8088",
    "splunk-token": "A1B2C3D4-XXXX-XXXX-XXXX-XXXXXXXXXXXX",
    "splunk-insecureskipverify": "true",
    "splunk-format": "json"
  }
}

保存后重启 Docker 守护进程：

sudo systemctl restart docker

从此以后，所有新启动的容器会使用 Splunk 日志驱动，把日志直接推送到指定 Splunk HTTP Event Collector (HEC) 端点。

⸻

🧱 四、可选：为单个容器指定日志驱动（覆盖全局）

如果只想针对某个容器：

docker run -d \
  --log-driver=splunk \
  --log-opt splunk-url=https://splunk.example.com:8088 \
  --log-opt splunk-token=A1B2C3... \
  --log-opt splunk-format=json \
  nginx


⸻

⚙️ 五、常见可用日志驱动类型（log-driver）

驱动名	说明
json-file	默认驱动，日志写入宿主机文件系统
syslog	发送日志到本地或远程 syslog
journald	集成 systemd 的 journald
gelf	发送日志到 Graylog / Logstash
fluentd	发送日志到 Fluentd
splunk	发送日志到 Splunk HTTP Event Collector
awslogs	发送日志到 AWS CloudWatch
none	不记录日志


⸻

✅ 六、总结

项目	是否正确	说明
修改 daemon.json 设置 log-driver/log-opts 为 Splunk	✅ 是	配置全局日志输出目标
是否能把容器日志导出到 Splunk	✅ 是	容器日志将发送到 Splunk HEC
是否需要重启 Docker 守护进程	✅ 是	改动才会生效


⸻

✅ 最终答案：A. Yes

通过在 daemon.json 文件中设置 log-driver 为 splunk 并提供相应 log-opts 参数，
Docker 可以将容器日志直接导出到集中式日志系统（例如 Splunk）。