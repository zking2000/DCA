âŒ ä½ çš„â€œSolutionâ€æ˜¯ä¸æ­£ç¡®çš„ã€‚

è®©æˆ‘ä»¬é€æ­¥è§£é‡Šã€‚

â¸»

ğŸ§­ é—®é¢˜èƒŒæ™¯ï¼ˆDocker Trusted Registry, DTRï¼‰

ä½ ç°åœ¨çš„åœºæ™¯æ˜¯ï¼š
ä½ åœ¨ Docker Trusted Registry (DTR) ä¸­ï¼Œ
å°†ä¸€ä¸ªæ–°ç”¨æˆ·æ·»åŠ åˆ°äº† organization: engineeringã€‚

ä½ çš„é—®é¢˜æ˜¯ï¼š

â€œè¿™æ ·æ˜¯å¦ä¼šè‡ªåŠ¨è®©è¯¥ç”¨æˆ·æ‹¥æœ‰å¯¹ engineering/api ä»“åº“çš„è¯»å†™æƒé™ï¼Ÿâ€

â¸»

âœ… æ­£ç¡®ç­”æ¡ˆï¼šä¸ä¼šè‡ªåŠ¨è·å¾—è®¿é—®æƒé™

åœ¨ DTR ä¸­ï¼Œç”¨æˆ·æƒé™æ˜¯ç”± repository-level (ä»“åº“çº§) æˆ– team-level (å›¢é˜Ÿçº§) æƒé™æ§åˆ¶çš„ã€‚
ä»…ä»…æŠŠç”¨æˆ·æ·»åŠ åˆ°ä¸€ä¸ªç»„ç»‡ï¼ˆorganizationï¼‰ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨èµ‹äºˆå…¶å¯¹è¯¥ç»„ç»‡ä¸‹ä»“åº“çš„è®¿é—®æƒé™ã€‚

æ¢å¥è¯è¯´ï¼š
	â€¢	â€œåŠ å…¥ç»„ç»‡â€ â‰  â€œæœ‰ä»“åº“è¯»å†™æƒé™â€
	â€¢	æƒé™ç»§æ‰¿æ˜¯é€šè¿‡ team â†’ repository ç»‘å®šå®ç°çš„

â¸»

ğŸ”§ æ­£ç¡®åšæ³•

è¦è®©è¯¥ç”¨æˆ·è®¿é—® engineering/api ä»“åº“ï¼Œä½ éœ€è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œä¹‹ä¸€ï¼š

âœ… æ–¹å¼ 1ï¼šæŠŠç”¨æˆ·åŠ å…¥æœ‰æƒé™çš„å›¢é˜Ÿ

ä¾‹å¦‚ï¼š
	1.	è¿›å…¥ DTR æ§åˆ¶å° â†’ Organizations â†’ engineering â†’ Teams
	2.	æ‰¾åˆ°æœ‰è®¿é—® engineering/api çš„å›¢é˜Ÿï¼ˆä¾‹å¦‚ devsã€maintainersï¼‰
	3.	æŠŠè¯¥ç”¨æˆ·æ·»åŠ åˆ°è¿™ä¸ªå›¢é˜Ÿä¸­

å›¢é˜Ÿä¸ä»“åº“çš„æƒé™æ˜ å°„ï¼ˆåœ¨ DTR ä¸­ï¼‰å¦‚ä¸‹ï¼š

Role	æƒé™
Admin	ç®¡ç†ä»“åº“ï¼ˆåŒ…æ‹¬åˆ é™¤ï¼‰
Write	æ¨é€ã€æ‹‰å–é•œåƒ
Read	åªèƒ½æ‹‰å–
None	æ— è®¿é—®æƒé™

åªè¦ç”¨æˆ·å±äºä¸€ä¸ªæœ‰ Read/Write/Admin æƒé™çš„å›¢é˜Ÿï¼Œå°±èƒ½è®¿é—®è¯¥ä»“åº“ã€‚

â¸»

âŒ æ–¹å¼ 2ï¼ˆä½ æåˆ°çš„æ–¹æ¡ˆï¼‰ï¼šâ€œMirror åˆ°ç”¨æˆ·çš„ç§æœ‰ä»“åº“â€

è¿™ä¸ªæ–¹æ¡ˆ ä¸æ­£ç¡®ä¸”ä¸å¯è¡Œã€‚
	â€¢	ä»“åº“é•œåƒï¼ˆMirrorï¼‰åœ¨ DTR ä¸­æ˜¯ä¸€ç§åŒæ­¥æœºåˆ¶ï¼Œä¸æ˜¯æƒé™æˆäºˆæœºåˆ¶ï¼›
	â€¢	æŠŠä»“åº“é•œåƒåˆ°ç”¨æˆ·ç§æœ‰ä»“åº“ï¼Œåªæ˜¯å¤åˆ¶é•œåƒå†…å®¹ï¼Œä¸ä¼šæ”¹å˜åŸä»“åº“æƒé™ï¼›
	â€¢	è¿™æ ·åšä¼šé€ æˆé•œåƒæ•°æ®å†—ä½™å’Œæƒé™ç®¡ç†æ··ä¹±ï¼›
	â€¢	å¹¶ä¸”æ™®é€šç”¨æˆ·é€šå¸¸æ²¡æœ‰è®¾ç½®é•œåƒç­–ç•¥çš„æƒé™ã€‚

â¸»

âœ… ç»“è®º

æ“ä½œ	æ˜¯å¦èƒ½æˆäºˆ engineering/api è®¿é—®æƒé™	è¯´æ˜
å°†ç”¨æˆ·æ·»åŠ åˆ° engineering organization	âŒ	åªåˆ›å»ºç»„ç»‡æˆå‘˜å…³ç³»ï¼Œä¸å½±å“ä»“åº“æƒé™
å°†ç”¨æˆ·æ·»åŠ åˆ°æœ‰ä»“åº“è®¿é—®æƒé™çš„å›¢é˜Ÿ	âœ…	æ¨èåšæ³•
å°†ä»“åº“é•œåƒåˆ°ç”¨æˆ·ç§æœ‰ä»“åº“	âŒ	ä¸æˆäºˆæƒé™ï¼Œä¹Ÿä¸æ¨è


â¸»

ğŸ’¡ å»ºè®®ï¼šDTR æƒé™æœ€ä½³å®è·µ

flowchart TD
  subgraph Org: engineering
    A[Team: api-developers] -->|Write| R1[Repo: engineering/api]
    B[Team: qa] -->|Read| R1
    C[New User] -->|Add to Team: api-developers| A
  end

	â€¢	æ‰€æœ‰æƒé™éƒ½é€šè¿‡ Team ä¸ Repository çš„æ˜ å°„å…³ç³» æ§åˆ¶ï¼›
	â€¢	Organization åªæ˜¯é€»è¾‘å½’å±ï¼›
	â€¢	ä¸è¦ç›´æ¥é€šè¿‡é•œåƒæˆ–å¤åˆ¶ä»“åº“æ¥æˆäºˆæƒé™ã€‚

â¸»

âœ… æ­£ç¡®è§£ç­”æ€»ç»“ï¼š

Adding a user to the engineering organization does not automatically grant them access to the engineering/api repository.
To grant access, add the user to a team within the organization that already has read/write permissions to that repository.
Mirroring the repository is not a valid or necessary solution.